<?xml version="1.0" encoding="UTF-8"?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://docbook.org/ns/docbook file:/home/kummer/workspace/org.aitsu.dev/application/xsd/docbook.xsd">
    <title>Module: Image</title>
    <info>
        <author>
            <personname>Andreas Kummer</personname>
            <email>a.kummer@wdrei.ch</email>
        </author>
        <orgname>w3concepts AG</orgname>
        <copyright>
            <year>2010</year>
        </copyright>
    </info>
    <chapter>
        <title>Application</title>
        <section>
            <title>Layout context</title>
            <para>
                <code><![CDATA[<script type="application/x-aitsu" src="Image:index"></script>]]></code>
            </para>
            <para>where <emphasis>index</emphasis> represents an arbitrary index, which must be
                unique (in combination with the module) for the page context.</para>
        </section>
        <section>
            <title>Content context</title>
            <para>
                <code><![CDATA[_[Image:index]]]></code>
            </para>
            <para>where <emphasis>index</emphasis> represents an arbitrary index, which must be
                unique (in combination with the module) for the page context.</para>
        </section>
    </chapter>
    <chapter>
        <title>Templates</title>
        <para>The module lets you configure the template to be used. The module searches for
            templates with the extension .phtml in the directory
                <emphasis>/library/Aitsu/Ee/Module/Image</emphasis> or - if present - in the
            corresponding directory within you skins directory. The name of the template must be
            assigned at the very beginning of the template (first line) as you can see in the
            example below.</para>
        <example label="Template example">
            <para>
                <code><![CDATA[<!-- Small image -->
<img src="/image/150/150/0/<?php echo $this->images[0]->idart; ?>/<?php echo $this->images[0]->filename; ?>" />]]></code>
            </para>
            <para>The text between the HTML comment tags is used as the template name in the module
                configuration.</para>
            <caution>
                <para>You will always get an array of images, even if you select only a single
                    image. If you intend to output a single image (as done so in above example), you
                    have to use the entry with the index 0. Otherwise you just have to iterate
                    through the array and output each entry accordingly.</para>
            </caution>
            <para>The pattern for an image link consists of the following parts:</para>
            <variablelist>
                <varlistentry>
                    <term>image</term>
                    <listitem>
                        <para>Tells the system to search for a media in the article context instead
                            of assuming that it will find the file in the file system.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>width</term>
                    <listitem>
                        <para>Integer value. The width the image may or should use (depending on the
                            fourth parameter).</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>height</term>
                    <listitem>
                        <para>Integer value. The height the image may or should use (depending on
                            the fourth parameter).</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>box</term>
                    <listitem>
                        <para>Integer value (0 or 1). 0 means that the given width an height
                            represent maximum values for the image dimension. The image is scaled to
                            fit into the given area and the widht-height-ratio is maintained. If the
                            image is smaller than the specified area, the image remains unscaled. 1
                            means that the system will scale and crop the image to fit exactly into
                            the specified area.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </example>
    </chapter>
</book>
